define("text!scalejs.metadataFactory/metadataFactory.html",[],function(){return'<div id="metadata_items_template">\n    <!-- ko template: { name: \'metadata_item_template\', foreach: $data } -->\n\n    <!--/ko -->\n</div>\n\n<div id="metadata_item_template">\n    <!-- ko comment: $data.template || $data.type + \'_template\' -->\n    <!-- /ko -->\n    <!-- ko template: $data.template || $data.type + \'_template\' -->\n    <!-- /ko -->\n</div>\n\n<div id="metadata_default_template">\n    <div data-bind="text: JSON.stringify($data)"></div>\n</div>\n\n<div id="metadata_loading_template">\n    <div class="loader hexdots-loader">\n    loading...\n    </div>\n</div>'}),define("text!scalejs.metadataFactory/action/views/action.html",[],function(){return'<div id="action_template">\n    <div data-bind="css: $data.classes" class="action-button-wrapper">\n        <button data-class="action-button">\n            <span data-bind="text: text"></span>\n        </button>\n    </div>\n</div>'}),define("scalejs.metadataFactory/action/bindings/actionBindings.js",{"action-button":function(){var a=this.buttonClasses||"";return this.icon&&(a+=" fa fa-"+this.icon),{click:function(){this.action()},css:a}}}),define("scalejs.metadataFactory/action/viewmodels/actionViewModel",["scalejs!core","knockout","text!scalejs.metadataFactory/action/views/action.html","scalejs.metadataFactory/action/bindings/actionBindings.js","scalejs.reactive","scalejs.mvvm"],function(a,b,c,d){"use strict";function e(a){console.error('Please switch to notify actionType="notify" instead of event',a),h(j(a.target),a.params)}function f(a){h(j(a.target),a.params)}var g=a.object.merge,h=a.reactive.messageBus.notify,i=b.observable,j=b.unwrap,k=i(!0);return a.mvvm.registerTemplates(c),a.mvvm.registerBindings(d),function(b){function c(){return p?void(j?h(j,{successCallback:p,options:l}):p(l,arguments)):void console.error("actions[actionType] is not defined",b)}var d=a.metadataFactory.getRegisteredActions(),i=b.text||b.options.text,j=b.validate,l=b.options||{},m=b.actionType,n={notify:f,event:e},o=a.object.extend(n,d),p=o[m]||null;return p&&(p=p.bind(this)),g(b,{isShown:k,action:c,text:i,actionType:m,options:l})}}),define("scalejs.metadataFactory/action/actionModule",["scalejs!core","scalejs.metadataFactory/action/viewmodels/actionViewModel","scalejs.mvvm"],function(a,b){"use strict";function c(){return g}function d(b){a.object.extend(g,b)}function e(b){a.object.extend(g,b)}var f=b,g={};return{action:f,registerAction:d,registerActions:e,getRegisteredActions:c}}),define("scalejs.metadataFactory/template/templateViewModel",["scalejs!core","lodash"],function(a,b){"use strict";return function(c,d){var e,f,g=ko.observable,h=a.object.merge,i=a.metadataFactory.createViewModel.bind(this),j=a.metadataFactory.createViewModels.bind(this),k=b.cloneDeep(c.action),l=g(c.data||{});if(f=j(c.children||[]),e=k?i(k).action:function(){},c.actionEndpoint){var m={callback:function(a,b){return a?void console.log("ajax request error",a):void l(b)}};i(c.actionEndpoint).action(m)}return h(c,{mappedChildNodes:f,action:e,data:l,context:this})}}),define("scalejs.metadataFactory",["scalejs!core","knockout","text!scalejs.metadataFactory/metadataFactory.html","scalejs.metadataFactory/action/actionModule","scalejs.metadataFactory/template/templateViewModel","scalejs.mvvm"],function(a,b,c,d,e){"use strict";function f(a){if(!a||"ignore"!==a.type){var b=n[a.type]?n[a.type].call(this,a):i.call(this,a);return b&&(b.type=b.type||a.type),b}console.log("ignored node ",a)}function g(a){var b;return b=this&&this.metadata?this:{metadata:a},a.map(function(a){return f.call(b,a)}).filter(function(a){return m(a)})}function h(b,c){if(!b)return a.mvvm.template("metadata_loading_template");Array.isArray(b)||(b=[b]);var d=c?g.call(c,b):g(b);return a.mvvm.template("metadata_items_template",d)}function i(b){return o?a.object.merge(b,{template:"metadata_default_template"}):void 0}function j(b){a.object.extend(this,b)}function k(b){a.object.extend(n,b)}function l(a){b.unwrap(a).forEach(function(a){a.dispose&&a.dispose(),l(a.mappedChildNodes||[])})}a.mvvm.registerTemplates(c);var m=a.object.has,n={"":i,context:j,action:d.action,template:e},o=!0;b.bindingHandlers.metadataFactory={init:function(){return{controlsDescendantBindings:!0}},update:function(a,c,d,e,f){function g(){i=b.utils.domData.get(a,"metadata"),i&&(i=Array.isArray(i)?i:[i],l(i))}var i,j=b.unwrap(c()).metadata?b.unwrap(c()).metadata:b.unwrap(c()),k=b.unwrap(c()).context?b.unwrap(c()).context:null;setTimeout(function(){var c=h(j,k).template;g(),b.utils.domData.set(a,"metadata",c.data),b.bindingHandlers.template.update(a,function(){return c},d,e,f),i||b.utils.domNodeDisposal.addDisposeCallback(a,function(){g()})})}};var p={metadataFactory:{createTemplate:h,registerViewModels:k,createViewModels:g,createViewModel:f,useDefault:o,registerAction:d.registerAction,registerActions:d.registerActions,getRegisteredActions:d.getRegisteredActions}};return a.registerExtension(p),p});