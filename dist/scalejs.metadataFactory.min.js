define("text!scalejs.metadataFactory/metadataFactory.html",[],function(){return'<div id="metadata_items_template">\n    <!-- ko template: { name: \'metadata_item_template\', foreach: $data } -->\n\n    <!--/ko -->\n</div>\n\n<div id="metadata_item_template">\n    <!-- ko comment: $data.template || $data.type + \'_template\' -->\n    <!-- /ko -->\n    <!-- ko if: ($data.rendered == null) ? true : $data.rendered  -->\n    <!-- ko template: $data.template || $data.type + \'_template\' -->\n    <!-- /ko -->\n    <!-- /ko -->\n</div>\n\n<div id="metadata_default_template">\n    <div data-bind="text: JSON.stringify($data)"></div>\n</div>\n\n<div id="metadata_loading_template">\n    <div class="loader hexdots-loader">\n    loading...\n    </div>\n</div>'}),define("text!scalejs.metadataFactory/action/views/action.html",[],function(){return'<div id="action_template">\n    <div data-bind="css: $data.classes" class="action-button-wrapper">\n        <button data-class="action-button">\n            <span data-bind="text: text"></span>\n        </button>\n    </div>\n</div>'}),define("scalejs.metadataFactory/action/bindings/actionBindings.js",{"action-button":function(){var a=this.buttonClasses||"";return this.icon&&(a+=" fa fa-"+this.icon),{click:function(){this.action()},css:a}}}),define("scalejs.metadataFactory/action/viewmodels/actionViewModel",["scalejs!core","knockout","text!scalejs.metadataFactory/action/views/action.html","scalejs.metadataFactory/action/bindings/actionBindings.js","scalejs.reactive","scalejs.mvvm"],function(a,b,c,d){"use strict";function e(a){g(i(a.target),a.params)}var f=a.object.merge,g=a.reactive.messageBus.notify,h=b.observable,i=b.unwrap;return a.mvvm.registerTemplates(c),a.mvvm.registerBindings(d),function(b){function c(){return o?void(j?g(j,{successCallback:o,options:k}):o(k,arguments)):void console.error("actions[actionType] is not defined",b)}var d=a.metadataFactory.getRegisteredActions(),i=b.text||b.options.text,j=b.validate,k=b.options||{},l=b.actionType,m={notify:e},n=a.object.extend(m,d),o=n[l]||null,p=h(!0),q=this;return o&&(o=o.bind(this)),f(b,{isShown:p,action:c,text:i,actionType:l,options:k,context:q})}}),define("scalejs.metadataFactory/action/actionModule",["scalejs!core","scalejs.metadataFactory/action/viewmodels/actionViewModel","scalejs.mvvm"],function(a,b){"use strict";function c(){return f}function d(b){a.object.extend(f,b)}var e=b,f={};return{action:e,registerActions:d,getRegisteredActions:c}}),define("scalejs.metadataFactory/template/templateViewModel",["scalejs!core","lodash","knockout"],function(a,b,c){"use strict";return function(d,e){var f,g,h=c.observable,i=a.object.merge,j=a.metadataFactory.createViewModel.bind(this),k=a.metadataFactory.createViewModels.bind(this),l=b.cloneDeep(d.action),m=h(d.data||{});if(g=k(d.children||[]),f=l?j(l).action:function(){},d.actionEndpoint){var n={callback:function(a,b){return a?void console.log("ajax request error",a):void m(b)}};j(d.actionEndpoint).action(n)}return i(d,{mappedChildNodes:g,action:f,data:m,context:this})}}),define("scalejs.metadataFactory",["scalejs!core","knockout","text!scalejs.metadataFactory/metadataFactory.html","scalejs.metadataFactory/action/actionModule","scalejs.metadataFactory/template/templateViewModel","scalejs.mvvm","userservice","scalejs.expression-jsep"],function(a,b,c,d,e,f){"use strict";function g(a){var b=s(!0),c=this;if(!a||"ignore"!==a.type){var d=u[a.type]?u[a.type].call(this,a):j.call(this,a);return d&&o(a.rendered)&&(b=p(a.rendered,"boolean")?s(a.rendered):q(function(){return r(a.rendered,function(a){return c.getValue&&o(c.getValue(a))?c.getValue(a):"role"===a?f.role():""})})),d&&(d.type=d.type||a.type,d.rendered=b),d}console.log("ignored node ",a)}function h(a){var b;return b=this&&this.metadata?this:{metadata:a},a.map(function(a){return g.call(b,a)}).filter(function(a){return o(a)})}function i(b,c){if(!b)return a.mvvm.template("metadata_loading_template");Array.isArray(b)||(b=[b]);var d=c?h.call(c,b):h(b);return a.mvvm.template("metadata_items_template",d)}function j(b){return v?a.object.merge(b,{template:"metadata_default_template"}):void 0}function k(b){var c={};Object.keys(b).forEach(function(a){"type"!==a&&(Array.isArray(b[a])?c[a]=t(b[a]):c[a]=s(b[a]))}),a.object.extend(this,c)}function l(b){a.object.extend(u,b)}function m(a){b.unwrap(a).forEach(function(a){a.dispose&&a.dispose(),m(a.mappedChildNodes||[])})}function n(){var b={$schema:"http://json-schema.org/draft-04/schema#",definitions:{template:{type:"string","enum":[]},type:{type:"string","enum":[]},children:{type:"array",items:{type:"object",properties:{template:{$ref:"#/definitions/template"},type:{$ref:"#/definitions/type"},children:{$ref:"#/definitions/children"},options:{$ref:"#/definitions/options"}}}},options:{type:"object"},classes:{type:"string"}},type:"object",properties:{template:{$ref:"#/definitions/template"},type:{$ref:"#/definitions/type"},children:{$ref:"#/definitions/children"},options:{$ref:"#/definitions/options"}}};for(var c in u)""!==c&&b.definitions.type["enum"].push(c);for(var c in a.mvvm.getRegisteredTemplates())""!==c&&b.definitions.template["enum"].push(c);return b}a.mvvm.registerTemplates(c);var o=a.object.has,p=a.type.is,q=b.computed,r=a.expression.evaluate,s=b.observable,t=b.observableArray,u={"":j,context:k,action:d.action,template:e},v=!0;b.bindingHandlers.metadataFactory={init:function(){return{controlsDescendantBindings:!0}},update:function(a,c,d,e,f){function g(){h=b.utils.domData.get(a,"metadata"),h&&(h=Array.isArray(h)?h:[h],m(h))}var h,j=b.unwrap(c()).metadata?b.unwrap(c()).metadata:b.unwrap(c()),k=b.unwrap(c()).context?b.unwrap(c()).context:null;setTimeout(function(){var c=i(j,k).template;g(),b.utils.domData.set(a,"metadata",c.data),b.bindingHandlers.template.update(a,function(){return c},d,e,f),h||b.utils.domNodeDisposal.addDisposeCallback(a,function(){g()})})}};var w={metadataFactory:{createTemplate:i,registerViewModels:l,createViewModels:h,createViewModel:g,useDefault:v,registerActions:d.registerActions,getRegisteredActions:d.getRegisteredActions,generateSchema:n}};return a.registerExtension(w),w});