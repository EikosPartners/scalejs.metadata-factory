(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)})([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _knockout=__webpack_require__(1);var _knockout2=_interopRequireDefault(_knockout);var _lodash=__webpack_require__(2);var _lodash2=_interopRequireDefault(_lodash);var _metadataFactory=__webpack_require__(3);var _metadataFactory2=_interopRequireDefault(_metadataFactory);var _moment=__webpack_require__(4);var _moment2=_interopRequireDefault(_moment);var _scalejs=__webpack_require__(5);var _scalejs2=_interopRequireDefault(_scalejs);__webpack_require__(15);var _scalejs3=__webpack_require__(16);var _scalejs4=_interopRequireDefault(_scalejs3);var _scalejs5=__webpack_require__(6);var _scalejs6=_interopRequireDefault(_scalejs5);__webpack_require__(14);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_scalejs2.default.mvvm.registerTemplates(_metadataFactory2.default);var has=_scalejs6.default.object.has,is=_scalejs6.default.type.is,computed=_knockout2.default.computed,evaluate=_scalejs6.default.expression.evaluate,observable=_knockout2.default.observable,observableArray=_knockout2.default.observableArray,viewModels={"":defaultViewModel,context:contextViewModel},schemas={},identifiers={},useDefault=true;function createViewModel(node){var rendered=observable(true),context=this;node=_lodash2.default.cloneDeep(node);if(node&&node.type==="ignore"){console.log("ignored node ",node)}else{var mappedNode=viewModels[node.type]?viewModels[node.type].call(this,node):defaultViewModel.call(this,node);if(mappedNode&&has(node.rendered)){rendered=is(node.rendered,"boolean")?observable(node.rendered):computed(function(){return evaluate(node.rendered,function(id){if(context.getValue&&has(context.getValue(id))){return context.getValue(id)}if(id==="role"){return _scalejs6.default.userservice.role()}return""})})}if(mappedNode){mappedNode.type=mappedNode.type||node.type;mappedNode.rendered=rendered}return mappedNode}}function createViewModels(metadata){var metadataContext;if(this&&this.metadata){metadataContext=this}else{metadataContext={metadata:metadata,getValue:function getValue(id){if(id==="store"&&_scalejs6.default.noticeboard.global){return _knockout2.default.unwrap(_scalejs6.default.noticeboard.global.dictionary)}if(id==="_"){return _lodash2.default}if(id=="Date"){return function(d){return(0,_moment2.default)(d).toDate().getTime()}}if(id=="IncrementDate"){return function(d,t,s){return(0,_moment2.default)(d).add(t,s).toDate().getTime()}}return identifiers[id]}}}return metadata.map(function(item){return createViewModel.call(metadataContext,item)}).filter(function(vm){return has(vm)})}function createTemplate(metadata,context){if(!metadata){return _scalejs6.default.mvvm.template("metadata_loading_template")}if(!Array.isArray(metadata)){metadata=[metadata]}var viewModels=!context?createViewModels(metadata):createViewModels.call(context,metadata);return _scalejs6.default.mvvm.template("metadata_items_template",viewModels)}function defaultViewModel(node){if(!useDefault){return}return _scalejs6.default.object.merge(node,{template:"metadata_default_template"})}function contextViewModel(node){var newContextProps={};Object.keys(node).forEach(function(prop){if(prop==="type"){return}if(Array.isArray(node[prop])){newContextProps[prop]=observableArray(node[prop])}else{newContextProps[prop]=observable(node[prop])}});_scalejs6.default.object.extend(this,newContextProps)}function registerViewModels(newViewModels){_scalejs6.default.object.extend(viewModels,newViewModels)}function getRegisteredTypes(){return Object.keys(viewModels)}function registerIdentifiers(ids){_scalejs6.default.object.extend(identifiers,ids)}function dispose(metadata){_knockout2.default.unwrap(metadata).forEach(function(node){if(node.dispose){node.dispose()}dispose(node.mappedChildNodes||[])})}function registerSchema(schema){for(var key in schema){if(key!==""){schemas[key]=schema[key]}}}function generateSchema(){var schema={$schema:"http://json-schema.org/draft-04/schema#",definitions:{template:{type:"string"},type:{type:"string"},templateExt:{oneOf:[{not:{required:["template"]}}]},typeExt:{oneOf:[]},children:{type:"array",items:{$ref:"#/definitions/subObject"}},options:{type:"object"},classes:{type:"string"},subObject:{allOf:[{type:"object",properties:{template:{},type:{},children:{$ref:"#/definitions/children"},options:{$ref:"#/definitions/options"}},required:["type"]},{$ref:"#/definitions/typeExt"},{$ref:"#/definitions/templateExt"}]}},oneOf:[{$ref:"#/definitions/subObject"},{type:"array",items:{$ref:"#/definitions/subObject"}}]};var option;var otherTemplates=[];for(var key in _scalejs6.default.mvvm.getRegisteredTemplates()){if(key!==""){if(schemas.hasOwnProperty(key)){option={properties:{template:{enum:[key]},options:{type:"object",properties:schemas[key]}},required:["template"]};schema.definitions.templateExt.oneOf.push(option)}else{otherTemplates.push(key)}}}if(otherTemplates.length>0){schema.definitions.template.enum=otherTemplates;option={properties:{template:{$ref:"#/definitions/template"}},required:["template"]};schema.definitions.templateExt.oneOf.push(option)}var otherTypes=[];for(var key in viewModels){if(key!==""){if(schemas.hasOwnProperty(key+"_template")){var option={properties:{type:{enum:[key]},options:{type:"object",properties:schemas[key+"_template"]}}};schema.definitions.typeExt.oneOf.push(option)}else{otherTypes.push(key)}}}if(otherTypes.length>0){schema.definitions.type.enum=otherTypes;option={properties:{type:{$ref:"#/definitions/type"}}};schema.definitions.typeExt.oneOf.push(option)}return schema}_knockout2.default.bindingHandlers.metadataFactory={init:function init(){return{controlsDescendantBindings:true}},update:function update(element,valueAccessor,allBindings,viewModel,bindingContext){var metadata=_knockout2.default.unwrap(valueAccessor()).metadata?_knockout2.default.unwrap(valueAccessor()).metadata:_knockout2.default.unwrap(valueAccessor()),context=_knockout2.default.unwrap(valueAccessor()).context?_knockout2.default.unwrap(valueAccessor()).context:null,prevMetadata;function disposeMetadata(){prevMetadata=_knockout2.default.utils.domData.get(element,"metadata");if(prevMetadata){prevMetadata=Array.isArray(prevMetadata)?prevMetadata:[prevMetadata];dispose(prevMetadata)}}setTimeout(function(){var metadataTemplate=createTemplate(metadata,context).template;disposeMetadata();_knockout2.default.utils.domData.set(element,"metadata",metadataTemplate.data);_knockout2.default.bindingHandlers.template.update(element,function(){return metadataTemplate},allBindings,viewModel,bindingContext);if(!prevMetadata){_knockout2.default.utils.domNodeDisposal.addDisposeCallback(element,function(){disposeMetadata()})}})}};exports.default=_scalejs6.default.registerExtension({metadataFactory:{createTemplate:createTemplate,registerViewModels:registerViewModels,createViewModels:createViewModels,createViewModel:createViewModel,useDefault:useDefault,registerIdentifiers:registerIdentifiers,getRegisteredTypes:getRegisteredTypes}})},function(module,exports){module.exports=require("knockout")},function(module,exports){module.exports=require("lodash")},function(module,exports){module.exports='<div id="metadata_items_template">\n    <!-- ko template: { name: \'metadata_item_template\', foreach: $data } -->\n\n    <!--/ko -->\n</div>\n\n<div id="metadata_item_template">\n    <!-- ko comment: $data.template || $data.type + \'_template\' -->\n    <!-- /ko -->\n    <!-- ko if: ($data.rendered == null) ? true : $data.rendered  -->\n    <!-- ko template: $data.template || $data.type + \'_template\' -->\n    <!-- /ko -->\n    <!-- /ko -->\n</div>\n\n<div id="metadata_default_template">\n    <div data-bind="text: JSON.stringify($data)"></div>\n</div>\n\n<div id="metadata_loading_template">\n    <div class="loader hexdots-loader">\n    loading...\n    </div>\n</div>\n\n<div id="no_template">    \n    <div data-bind="template: { name: \'metadata_items_template\', data: mappedChildNodes}"></div>\n</div>\n'},function(module,exports){module.exports=require("moment")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _scalejs=__webpack_require__(6);var _scalejs2=_interopRequireDefault(_scalejs);__webpack_require__(13);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var sandbox=_scalejs2.default.buildSandbox("main",_scalejs2.default.object.merge({buildSandbox:_scalejs2.default.buildSandbox}));exports.default=sandbox},function(module,exports,__webpack_require__){"use strict";var _scalejsEs=__webpack_require__(7);var _scalejsEs2=_interopRequireDefault(_scalejsEs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}module.exports=_scalejsEs2.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _scalejs=__webpack_require__(8);var _scalejs2=_interopRequireDefault(_scalejs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var has=_scalejs2.default.object.has,is=_scalejs2.default.type.is,extend=_scalejs2.default.object.extend,addOne=_scalejs2.default.array.addOne,error=_scalejs2.default.log.error,self={},extensions=[],applicationEventListeners=[],_isApplicationRunning=false;function registerExtension(extension){try{var ext;if(is(extension,"buildCore","function")){extension.buildCore(self);addOne(extensions,extension);return}if(is(extension,"function")){ext=extension(self)}else if(has(extension,"core")){ext=extension.core}else{ext=extension}if(ext){extend(self,ext);addOne(extensions,extension)}}catch(ex){error("Fatal error during application initialization. ",'Failed to build core with extension "',extension,"See following exception for more details.",ex)}return extension}function buildSandbox(id){if(!has(id)){throw new Error("Sandbox name is required to build a sandbox.")}var sandbox={type:self.type,object:self.object,array:self.array,log:self.log};extensions.forEach(function(extension){try{if(is(extension,"buildSandbox","function")){extension.buildSandbox(sandbox)}else if(has(extension,"sandbox")){extend(sandbox,extension.sandbox)}else{extend(sandbox,extension)}}catch(ex){error("Fatal error during application initialization. ",'Failed to build sandbox with extension "',extension,"See following exception for more details.",ex);throw ex}});return sandbox}function onApplicationEvent(listener){applicationEventListeners.push(listener)}function notifyApplicationStarted(){if(_isApplicationRunning){return}_isApplicationRunning=true;applicationEventListeners.forEach(function(listener){listener("started")})}function notifyApplicationStopped(){if(!_isApplicationRunning){return}_isApplicationRunning=false;applicationEventListeners.forEach(function(listener){listener("stopped")})}Object.defineProperty(self,"STARTED",{value:"started",writable:false});Object.defineProperty(self,"STOPPED",{value:"stopped",writable:false});exports.default=extend(self,{type:_scalejs2.default.type,object:_scalejs2.default.object,array:_scalejs2.default.array,log:_scalejs2.default.log,buildSandbox:buildSandbox,notifyApplicationStarted:notifyApplicationStarted,notifyApplicationStopped:notifyApplicationStopped,onApplicationEvent:onApplicationEvent,registerExtension:registerExtension,isApplicationRunning:function isApplicationRunning(){return _isApplicationRunning}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _scalejsBase=__webpack_require__(9);var _scalejsBase2=_interopRequireDefault(_scalejsBase);var _scalejsBase3=__webpack_require__(12);var _scalejsBase4=_interopRequireDefault(_scalejsBase3);var _scalejsBase5=__webpack_require__(10);var _scalejsBase6=_interopRequireDefault(_scalejsBase5);var _scalejsBase7=__webpack_require__(11);var _scalejsBase8=_interopRequireDefault(_scalejsBase7);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default={type:_scalejsBase8.default,object:_scalejsBase6.default,array:_scalejsBase2.default,log:_scalejsBase4.default}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _scalejsBase=__webpack_require__(10);var _scalejsBase2=_interopRequireDefault(_scalejsBase);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var valueOrDefault=_scalejsBase2.default.valueOrDefault;function addOne(array,item){if(array.indexOf(item)<0){array.push(item)}}function removeOne(array,item){var found=array.indexOf(item);if(found>-1){array.splice(found,1)}}function removeAll(array){array.splice(0,array.length)}function copy(array,first,count){first=valueOrDefault(first,0);count=valueOrDefault(count,array.length);return Array.prototype.slice.call(array,first,count)}function find(array,f,context){var i,l;for(i=0,l=array.length;i<l;i+=1){if(array.hasOwnProperty(i)&&f.call(context,array[i],i,array)){return array[i]}}return null}function toArray(list,start,count){return copy(list,start,count)}exports.default={addOne:addOne,removeOne:removeOne,removeAll:removeAll,copy:copy,find:find,toArray:toArray}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj};var _scalejsBase=__webpack_require__(11);var _scalejsBase2=_interopRequireDefault(_scalejsBase);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var is=_scalejsBase2.default.is;function has(object){var i,length,o=object,property;if(!is(o)){return false}for(i=1,length=arguments.length;i<length;i+=1){property=arguments[i];o=o[property];if(!is(o)){return false}}return true}function mix(receiver,supplier){var p;for(p in supplier){if(supplier.hasOwnProperty(p)){if(has(supplier,p)&&has(receiver,p)&&supplier[p].constructor===Object){receiver[p]=mix(receiver[p],supplier[p])}else{receiver[p]=supplier[p]}}}return receiver}function merge(){var args=arguments,i,len=args.length,result={};for(i=0;i<len;i+=1){mix(result,args[i])}return result}function clone(o){return merge(o)}function extend(receiver,extension,path){var props=has(path)?path.split("."):[],target=receiver,i;for(i=0;i<props.length;i+=1){if(!has(target,props[i])){target[props[i]]={}}target=target[props[i]]}mix(target,extension);return target}function get(o,path,defaultValue){var props=path.split("."),i,p,success=true;for(i=0;i<props.length;i+=1){p=props[i];if(has(o,p)){o=o[p]}else{success=false;break}}return success?o:defaultValue}function valueOrDefault(value,defaultValue){return has(value)?value:defaultValue}function stringify(obj){var cache=[];return JSON.stringify(obj,function(key,value){if((typeof value==="undefined"?"undefined":_typeof(value))==="object"&&value!==null){if(cache.indexOf(value)!==-1){return"[Circular]"}cache.push(value)}return value})}exports.default={has:has,valueOrDefault:valueOrDefault,merge:merge,extend:extend,clone:clone,get:get,stringify:stringify}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj};function typeOf(obj){if(obj===undefined){return"undefined"}if(obj===null){return"null"}var t=Object.prototype.toString.call(obj).match(/\s([a-z|A-Z]+)/)[1].toLowerCase(),m;if(t!=="object"){return t}m=obj.constructor.toString().match(/^function\s*([$A-Z_][0-9A-Z_$]*)/i);if(m===null){return"object"}return m[1]}function is(value){var undef=void 0,i,length=arguments.length,last=length-1,type,typeOfType,internalClass,v=value;if(length===0){return false}if(length===1){return value!==null&&value!==undef}if(length>2){for(i=0;i<last-1;i+=1){if(!is(v)){return false}v=v[arguments[i+1]]}}type=arguments[last];if(v===null){return type===null||type==="null"}if(v===undef){return type===undef||type==="undefined"}if(type===""){return v===type}typeOfType=typeof type==="undefined"?"undefined":_typeof(type);if(typeOfType==="string"){internalClass=Object.prototype.toString.call(v).slice(8,-1).toLowerCase();return internalClass===type}if(typeOfType==="function"){return v instanceof type}return v===type}exports.default={is:is,typeOf:typeOf}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _scalejsBase=__webpack_require__(10);var _scalejsBase2=_interopRequireDefault(_scalejsBase);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var log=Function.prototype.call.bind(console["log"],console),IE=navigator.userAgent.indexOf("MSIE")>0||navigator.userAgent.indexOf("Trident")>0;function create(level){return function(){var args,outstring;args=Array.prototype.slice.call(arguments,0);if(!IE){args.unshift(level)}else{outstring=level+" ";args.forEach(function(arg){outstring+=_scalejsBase2.default.stringify(arg)+" "});args=[outstring]}log.apply(this,arguments)}}function formatException(ex){var stack=ex.stack?String(ex.stack):"",message=ex.message||"";return"Error: "+message+"\nStack: "+stack}exports.default={log:create("      "),info:create("info: "),error:create("error:"),warn:create("warn: "),debug:create("debug:"),formatException:formatException}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(14)},function(module,exports){module.exports=require("scalejs.mvvm")},function(module,exports){module.exports=require("scalejs.expression-jsep")},function(module,exports){module.exports=require("scalejs")}]);